@model NutriTrackData.Models.PhysicalActivityModel

<div class="container py-5">
    <h2 class="text-primary">Edit Your Activity</h2>
    <p class="text-muted">Update the details of your activity below.</p>

    <form id="activityEditForm" asp-action="Edit" method="post" class="mt-4 shadow p-4 bg-light rounded">
        <div class="form-group mb-3">
            <label asp-for="Name" class="form-label fw-bold">Activity Name</label>
            <input asp-for="Name" id="editName" class="form-control" placeholder="Enter activity name" />
            <span asp-validation-for="Name" class="text-danger"></span>
        </div>

        <div class="form-group mb-3">
            <label asp-for="CaloriesBurnedPerMinute" class="form-label fw-bold">Calories Burned Per Minute</label>
            <input asp-for="CaloriesBurnedPerMinute" id="editCalories" type="number" class="form-control" placeholder="Enter calories burned per minute" />
            <span asp-validation-for="CaloriesBurnedPerMinute" class="text-danger"></span>
        </div>

        <div class="form-group mb-3">
            <label asp-for="Duration" class="form-label fw-bold">Duration (minutes)</label>
            <input asp-for="Duration" id="editDuration" type="number" class="form-control" placeholder="Enter duration in minutes" />
            <span asp-validation-for="Duration" class="text-danger"></span>
        </div>

        <div class="mt-4 d-flex justify-content-between">
            <button type="submit" class="btn btn-primary px-4">
                <i class="fas fa-save"></i> Save Changes
            </button>
            <a href="@Url.Action("Index")" class="btn btn-secondary px-4">
                <i class="fas fa-arrow-left"></i> Cancel
            </a>
        </div>
    </form>
</div>

<script>
    document.getElementById("activityEditForm").addEventListener("submit", function (event) {
        let isValid = true;

        const name = document.getElementById("editName").value.trim();
        const calories = parseFloat(document.getElementById("editCalories").value);
        const duration = parseFloat(document.getElementById("editDuration").value);

        if (name === "") {
            alert("Activity Name is required.");
            isValid = false;
        }

        if (isNaN(calories) || calories <= 0) {
            alert("Calories Burned Per Minute must be a positive number.");
            isValid = false;
        }

        if (isNaN(duration) || duration <= 0) {
            alert("Duration must be a positive number.");
            isValid = false;
        }

        if (!isValid) {
            event.preventDefault();
        }
    });
</script>
